<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Aura: Live Stage</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: linear-gradient(135deg, #bf953f 0%, #fcf6ba 45%, #b38728 70%, #fbf5b7 85%, #aa771c 100%);
            --glass: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
        }

        body, html { 
            margin: 0; padding: 0; height: 100%; 
            background: #050505; color: white; 
            font-family: 'Inter', sans-serif; overflow: hidden;
        }

        /* CANLI ARKA PLAN EFEKTİ (HİPNOTİK) */
        .aura-bg {
            position: fixed; inset: 0;
            background: radial-gradient(circle at 50% 50%, #1a1a1a 0%, #050505 100%);
            z-index: -1;
        }
        .aura-blob {
            position: absolute; width: 400px; height: 400px;
            background: #bf953f; filter: blur(120px);
            border-radius: 50%; opacity: 0.15;
            animation: move 20s infinite alternate;
        }
        @keyframes move { from { transform: translate(-10%, -10%); } to { transform: translate(20%, 30%); } }

        /* SAHNE (STAGE) */
        #stage { 
            height: 100%; display: flex; flex-direction: column; 
            padding-top: env(safe-area-inset-top);
        }

        /* MÜZİK ALANI */
        .now-playing {
            flex: 0.4; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            text-align: center; padding: 20px;
        }
        .album-art {
            width: 180px; height: 180px; 
            background: var(--gold); border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            margin-bottom: 20px; position: relative;
        }
        .album-art::after {
            content: ''; position: absolute; inset: -5px;
            border-radius: 35px; background: var(--gold);
            z-index: -1; opacity: 0.3; filter: blur(15px);
        }

        /* CANLI CHAT (INSTAGRAM LIVE STYLE) */
        .live-chat {
            flex: 0.6; display: flex; flex-direction: column;
            mask-image: linear-gradient(to bottom, transparent 0%, black 20%);
            padding: 0 20px; overflow-y: auto;
        }
        .chat-msg {
            margin-bottom: 12px; animation: slideUp 0.4s ease-out;
            cursor: pointer; display: flex; align-items: flex-start; gap: 10px;
        }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .chat-av { width: 32px; height: 32px; border-radius: 50%; background: var(--gold); flex-shrink: 0; display: flex; align-items: center; justify-content: center; color: black; font-weight: 900; font-size: 12px; }
        .chat-content b { color: #d4af37; font-size: 13px; display: block; }
        .chat-content p { margin: 2px 0 0; font-size: 14px; opacity: 0.9; }

        /* FISILTI (QUICK DM) OVERLAY */
        #whisper-box {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: rgba(15, 15, 15, 0.95);
            backdrop-filter: blur(25px); border-top: 1px solid var(--border);
            border-radius: 30px 30px 0 0; transform: translateY(100%);
            transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1); z-index: 2000;
            padding: 30px 20px 50px;
        }
        #whisper-box.active { transform: translateY(0); }

        /* GİRİŞ VE NAV */
        .input-area {
            position: fixed; bottom: 30px; left: 20px; right: 20px;
            display: flex; gap: 10px; z-index: 1000;
        }
        .aura-input {
            flex: 1; background: var(--glass); border: 1px solid var(--border);
            border-radius: 25px; padding: 15px 20px; color: white; outline: none;
            backdrop-filter: blur(10px);
        }
        .btn-action {
            background: var(--gold); border: none; width: 50px; height: 50px;
            border-radius: 50%; color: black; font-weight: bold; cursor: pointer;
        }

        .premium-font { font-family: 'Playfair Display', serif; }
    </style>
</head>
<body>

    <div class="aura-bg">
        <div class="aura-blob"></div>
    </div>

    <div id="gate" style="position:fixed; inset:0; background:#050505; z-index:9999; display:flex; flex-direction:column; align-items:center; justify-content:center;">
        <h1 class="aura-logo premium-font" style="font-size:60px; background:var(--gold); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">Aura</h1>
        <input type="text" id="user-name" class="aura-input" style="width:200px; text-align:center;" placeholder="İsminiz?">
        <button onclick="enterApp()" class="btn-action" style="margin-top:20px; width:auto; padding:0 30px; border-radius:30px;">ODAYA GİR</button>
    </div>

    <div id="app" style="display:none; height:100%;">
        <div id="stage">
            <div class="now-playing">
                <div class="album-art"></div>
                <h2 class="premium-font" style="margin:10px 0 5px; font-size:24px;">After Hours</h2>
                <p style="margin:0; opacity:0.5; font-size:14px; letter-spacing:2px;">THE WEEKND • LOUNGE #1</p>
            </div>

            <div class="live-chat" id="chat-flow">
                </div>

            <div class="input-area">
                <input type="text" id="main-input" class="aura-input" placeholder="Odaya bir şeyler fısılda...">
                <button onclick="sendGlobal()" class="btn-action">✨</button>
            </div>
        </div>

        <div id="whisper-box">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h3 class="premium-font" id="whisper-target" style="margin:0; color:#d4af37;"></h3>
                <span onclick="closeWhisper()" style="opacity:0.5; cursor:pointer;">Kapat</span>
            </div>
            <textarea id="whisper-input" class="aura-input" style="width:100%; height:100px; border-radius:20px;" placeholder="Özel bir fısıltı gönder..."></textarea>
            <button onclick="sendPrivate()" class="btn-action" style="width:100%; margin-top:15px; border-radius:15px;">FISILTIYI GÖNDER</button>
        </div>
    </div>

    <script>
        let me = "";
        let targetUser = "";

        function enterApp() {
            me = document.getElementById('user-name').value;
            if(!me) return;
            document.getElementById('gate').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('gate').style.display = 'none';
                document.getElementById('app').style.display = 'block';
                // Başlangıç mesajları
                addMsg('AuraBot', 'Hoş geldin ' + me + '. Bu oda senin enerjinle güzelleşecek.');
            }, 500);
        }

        function addMsg(user, text) {
            const flow = document.getElementById('chat-flow');
            const div = document.createElement('div');
            div.className = 'chat-msg';
            div.onclick = () => openWhisper(user);
            div.innerHTML = `
                <div class="chat-av">${user[0]}</div>
                <div class="chat-content">
                    <b>${user}</b>
                    <p>${text}</p>
                </div>
            `;
            flow.appendChild(div);
            flow.scrollTop = flow.scrollHeight;
        }

        function sendGlobal() {
            const inp = document.getElementById('main-input');
            if(!inp.value) return;
            addMsg(me, inp.value);
            inp.value = '';
        }

        function openWhisper(user) {
            if(user === me || user === 'AuraBot') return;
            targetUser = user;
            document.getElementById('whisper-target').innerText = user + "'e Fısılda";
            document.getElementById('whisper-box').classList.add('active');
        }

        function closeWhisper() {
            document.getElementById('whisper-box').classList.remove('active');
        }

        function sendPrivate() {
            const val = document.getElementById('whisper-input').value;
            if(!val) return;
            alert(targetUser + " kişisine özel fısıltın gönderildi! ✨");
            document.getElementById('whisper-input').value = '';
            closeWhisper();
        }

        // Simüle edilmiş canlılık
        setTimeout(() => addMsg('Selina', 'Bu şarkı tam geceye göre...'), 3000);
        setTimeout(() => addMsg('Mert', 'Yeni odanın aurası çok iyi olmuş.'), 6000);
    </script>
</body>
</html>